<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="擅长C/Go编程;https://github.com/perrynzhou。">
  <meta name="author" content="perrynzhou">
  <meta name="keywords" content="C, Go, nginx,glusterfs,redis">
  <title>glusterfs小文件调优指南 - perrynzhou</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-04-15 12:56">
      2020年4月15日 下午
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      931 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      16
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h4 id="glusterfs-小文件调优指南"><a href="#glusterfs-小文件调优指南" class="headerlink" title="glusterfs 小文件调优指南"></a>glusterfs 小文件调优指南</h4><h5 id="获取glusterfs参数说明和默认值"><a href="#获取glusterfs参数说明和默认值" class="headerlink" title="获取glusterfs参数说明和默认值"></a>获取glusterfs参数说明和默认值</h5><ul>
<li><p>glusterfs获取所有可用参数</p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> gluster volume <span class="hljs-built_in">set</span> <span class="hljs-built_in">help</span></span></code></pre></li>
<li><p>获取指定参数</p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> gluster volume <span class="hljs-built_in">set</span> <span class="hljs-built_in">help</span>|grep <span class="hljs-string">"cache-min-file-size"</span> -A7</span></code></pre>
<h5 id="glusterfs-volume调优参数"><a href="#glusterfs-volume调优参数" class="headerlink" title="glusterfs volume调优参数"></a>glusterfs volume调优参数</h5></li>
<li><p>1.目录操作性能</p>
<pre><code class="hljs routeros">Option: performance.readdir-ahead
Default Value: on
Description: enable/<span class="hljs-builtin-name">disable</span> readdir-ahead translator <span class="hljs-keyword">in</span> the volume.

Option: performance.rda-cache-limit
Default Value: 10MB
Description: maximum size of cache consumed by readdir-ahead xlator. This value is global <span class="hljs-keyword">and</span> total memory consumption by readdir-ahead is capped by this value, irrespective of the number/size of directories cached

Option: cluster.readdir-optimize
Default Value: off
Description: This option <span class="hljs-keyword">if</span> <span class="hljs-builtin-name">set</span> <span class="hljs-keyword">to</span> ON enables the optimization that allows DHT <span class="hljs-keyword">to</span> requests non-first subvolumes <span class="hljs-keyword">to</span><span class="hljs-built_in"> filter </span>out directory entries.

Option: cluster.lookup-unhashed
Default Value: on
Description: This option <span class="hljs-keyword">if</span> <span class="hljs-builtin-name">set</span> <span class="hljs-keyword">to</span> ON, does a lookup through all the sub-volumes, <span class="hljs-keyword">in</span> case a lookup didn<span class="hljs-string">'t return any result from the hash subvolume. If set to OFF, it does not do a lookup on the remaining subvolumes.</span>
<span class="hljs-string"></span>
<span class="hljs-string">Option: performance.parallel-readdir</span>
<span class="hljs-string">Default Value: off</span>
<span class="hljs-string">Description: If this option is enabled, the readdir operation is performed in parallel on all the bricks, thus improving the performance of readdir. Note that the performance improvement is higher in large clusters</span>
<span class="hljs-string"></span>
<span class="hljs-string">gluster volume set dht_vol performance.readdir-ahead on</span>
<span class="hljs-string">gluster volume set dht_vol cluster.readdir-optimize on</span>
<span class="hljs-string">gluster volume set dht_vol cluster.lookup-unhashed off</span>
<span class="hljs-string">gluster volume set dht_vol performance.parallel-readdir on</span>
<span class="hljs-string">//默认是关闭</span>
<span class="hljs-string">gluster volume set dht_vol group metadata-cache</span></code></pre></li>
<li><p>2.inode缓存大小</p>
<pre><code class="hljs pgsql">//官方解释
<span class="hljs-keyword">Option</span>: network.inode-lru-<span class="hljs-keyword">limit</span>
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-number">16384</span>
Description: Specifies the <span class="hljs-keyword">limit</span> <span class="hljs-keyword">on</span> the number <span class="hljs-keyword">of</span> inodes <span class="hljs-keyword">in</span> the lru list <span class="hljs-keyword">of</span> the inode <span class="hljs-keyword">cache</span>.

//设置
gluster volume set dht_vol network.inode-lru-limit <span class="hljs-number">100000</span></code></pre></li>
<li><p>3.实际IO操作线程调整</p>
<pre><code class="hljs pgsql">//官方解释
<span class="hljs-keyword">Option</span>: performance.io-thread-count
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-number">16</span>
Description: Number <span class="hljs-keyword">of</span> threads <span class="hljs-keyword">in</span> IO threads translator which <span class="hljs-keyword">perform</span> concurrent IO operations

// 设置值小于等于可用CPU的合数
gluster volume <span class="hljs-keyword">set</span> dht_vol performance.io-thread-count <span class="hljs-number">32</span></code></pre></li>
<li><p>4.客户端rpc请求吞吐量设置</p>
<pre><code class="hljs routeros">Option: server.outstanding-rpc-limit
Default Value: 64
Description: Parameter <span class="hljs-keyword">to</span> throttle the number of<span class="hljs-built_in"> incoming </span>RPC requests <span class="hljs-keyword">from</span> a client. 0 means <span class="hljs-literal">no</span> limit (can potentially <span class="hljs-builtin-name">run</span> out of memory)

gluster volume <span class="hljs-builtin-name">set</span> dht_vol server.outstanding-rpc-limit 512</code></pre>
</li>
<li><p>5.event线程数设置（提高性能,降低响应时间)</p>
<pre><code class="hljs smali">//官方解释
Option: client.event-threads
Default Value: 2
Description: Specifies the number of event threads to<span class="hljs-built_in"> execute </span>in parallel. Larger values would help process responses faster, depending on available processing power. Range 1-32 threads.

Option: server.event-threads
Default Value: 2
Description: Specifies the number of event threads to<span class="hljs-built_in"> execute </span>in parallel. Larger values would help process responses faster, depending on available processing power.

//设置超过可用CPU核数会导致context切换严重
gluster volume set dht_vol  client.event-threads  8
gluster volume set dht_vol  server.event-threads  8</code></pre></li>
<li><p>6.io-cache调整</p>
<pre><code class="hljs sql">//官方解释
<span class="hljs-comment"># gluster volume set help|grep "io-cache" -A7</span>
Option: performance.cache-<span class="hljs-keyword">min</span>-<span class="hljs-keyword">file</span>-<span class="hljs-keyword">size</span>
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-number">0</span>
Description: <span class="hljs-keyword">Minimum</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">size</span> which would be cached <span class="hljs-keyword">by</span> the io-<span class="hljs-keyword">cache</span> translator.

<span class="hljs-keyword">Option</span>: performance.cache-<span class="hljs-keyword">min</span>-<span class="hljs-keyword">file</span>-<span class="hljs-keyword">size</span>
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-number">0</span>
Description: <span class="hljs-keyword">Minimum</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">size</span> which would be cached <span class="hljs-keyword">by</span> the io-<span class="hljs-keyword">cache</span> translator.

<span class="hljs-keyword">Option</span>: performance.cache-<span class="hljs-keyword">refresh</span>-<span class="hljs-keyword">timeout</span>
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-number">1</span>
Description: The cached <span class="hljs-keyword">data</span> <span class="hljs-keyword">for</span> a <span class="hljs-keyword">file</span> will be retained <span class="hljs-keyword">for</span> <span class="hljs-string">'cache-refresh-timeout'</span> <span class="hljs-keyword">seconds</span>, <span class="hljs-keyword">after</span> which <span class="hljs-keyword">data</span> re-<span class="hljs-keyword">validation</span> <span class="hljs-keyword">is</span> performed.

<span class="hljs-keyword">Option</span>: performance.io-<span class="hljs-keyword">cache</span>-pass-<span class="hljs-keyword">through</span>
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-literal">false</span>
Description: <span class="hljs-keyword">Enable</span>/<span class="hljs-keyword">Disable</span> io <span class="hljs-keyword">cache</span> translator

<span class="hljs-keyword">Option</span>: performance.io-<span class="hljs-keyword">cache</span>
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-keyword">on</span>
Description: <span class="hljs-keyword">enable</span>/<span class="hljs-keyword">disable</span> io-<span class="hljs-keyword">cache</span> translator <span class="hljs-keyword">in</span> the volume.

<span class="hljs-keyword">Option</span>: performance.open-behind
<span class="hljs-keyword">Default</span> <span class="hljs-keyword">Value</span>: <span class="hljs-keyword">on</span>
Description: <span class="hljs-keyword">enable</span>/<span class="hljs-keyword">disable</span> <span class="hljs-keyword">open</span>-behind translator <span class="hljs-keyword">in</span> the volume.


//当前我们采用opencas作为glusterfsd的后端存储，同时我们业务场景又是存储<span class="hljs-number">10</span>亿+的小文件，因此IO-<span class="hljs-keyword">cache</span>开启的意义不大,默认是开启（针对大文件效果好)，需要关闭才可以
gluster volume <span class="hljs-keyword">set</span> dht_vol  performance.io-<span class="hljs-keyword">cache</span>  <span class="hljs-keyword">off</span></code></pre>

</li>
</ul>
<h5 id="gluster-volume调优样例"><a href="#gluster-volume调优样例" class="headerlink" title="gluster volume调优样例"></a>gluster volume调优样例</h5><pre><code class="hljs yaml"><span class="hljs-comment"># gluster volume info warm_vol1 </span>
 
<span class="hljs-attr">Volume Name:</span> <span class="hljs-string">warm_vol1</span>
<span class="hljs-attr">Type:</span> <span class="hljs-string">Distribute</span>
<span class="hljs-attr">Volume ID:</span> <span class="hljs-string">d36874f3-60a0-458a-88b3-7f5ed18c645e</span>
<span class="hljs-attr">Status:</span> <span class="hljs-string">Started</span>
<span class="hljs-attr">Snapshot Count:</span> <span class="hljs-number">0</span>
<span class="hljs-attr">Number of Bricks:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">Transport-type:</span> <span class="hljs-string">tcp</span>
<span class="hljs-attr">Bricks:</span>
<span class="hljs-attr">Brick1:</span> <span class="hljs-number">172.21</span><span class="hljs-number">.73</span><span class="hljs-number">.96</span><span class="hljs-string">:/glusterfs/warmvol1/data1/brick1</span>
<span class="hljs-attr">Brick2:</span> <span class="hljs-number">172.21</span><span class="hljs-number">.73</span><span class="hljs-number">.96</span><span class="hljs-string">:/glusterfs/warmvol1/data2/brick1</span>
<span class="hljs-attr">Options Reconfigured:</span>
<span class="hljs-attr">performance.rda-cache-limit:</span> <span class="hljs-string">1024MB</span>
<span class="hljs-attr">client.event-threads:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">server.outstanding-rpc-limit:</span> <span class="hljs-number">512</span>
<span class="hljs-attr">performance.io-thread-count:</span> <span class="hljs-number">32</span>
<span class="hljs-attr">server.event-threads:</span> <span class="hljs-number">8</span>
<span class="hljs-attr">network.inode-lru-limit:</span> <span class="hljs-number">500000</span>
<span class="hljs-attr">performance.read-ahead-page-count:</span> <span class="hljs-number">16</span>
<span class="hljs-attr">cluster.min-free-inodes:</span> <span class="hljs-number">25</span><span class="hljs-string">%</span>
<span class="hljs-attr">performance.readdir-ahead:</span> <span class="hljs-string">on</span>
<span class="hljs-attr">cluster.readdir-optimize:</span> <span class="hljs-string">on</span>
<span class="hljs-attr">cluster.lookup-optimize:</span> <span class="hljs-string">on</span>
<span class="hljs-attr">performance.io-cache:</span> <span class="hljs-string">off</span>
<span class="hljs-attr">cluster.lookup-unhashed:</span> <span class="hljs-string">off</span>
<span class="hljs-attr">performance.parallel-readdir:</span> <span class="hljs-string">on</span>
<span class="hljs-attr">storage.fips-mode-rchecksum:</span> <span class="hljs-string">on</span></code></pre>
<h5 id="linux-网络参数调优"><a href="#linux-网络参数调优" class="headerlink" title="linux 网络参数调优"></a>linux 网络参数调优</h5><pre><code class="hljs stata"><span class="hljs-comment">//vi /etc/sysctl.conf 添加如下内容</span>
<span class="hljs-keyword">net</span>.core.rmem_max=67108864
<span class="hljs-keyword">net</span>.core.wmem_max=67108864
<span class="hljs-keyword">net</span>.ipv4.tcp_wmem=33554432
<span class="hljs-keyword">net</span>.ipv4.tcp_rmem=33554432
<span class="hljs-keyword">net</span>.core.netdev_max_backlog=30000
<span class="hljs-keyword">net</span>.ipv4.tcp_congestion_control=htcp

<span class="hljs-comment">// sysctl -p 生效</span></code></pre>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/04/15/hexo%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">hexo 使用手册</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/04/14/%E4%BD%BF%E7%94%A8-Intel-Open-Cas%E5%8A%A0%E9%80%9Fglusterfs/">
                        <span class="hidden-mobile">使用 Intel Open Cas加速glusterfs</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "glusterfs小文件调优指南&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>

















  

  

  

  

  

  





</body>
</html>
